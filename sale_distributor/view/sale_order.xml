<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Multiple Distributor Tabs -->
    <record id="view_sale_order_form_inherit" model="ir.ui.view">
        <field name="name">sale.order.form</field>
        <field name="model">sale.order</field>
        <field name="priority">1000</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//header/button[@id='action_confirm']" position="attributes">
                <attribute name="invisible">1</attribute>
                <attribute name="string">Process</attribute>
                <attribute name="context">{'send_by_item_code': True, 'add_to_buy_merge_po':True}</attribute>
            </xpath>
            <xpath expr="//header/button[@name='action_quotation_send' and @states='sent,sale']" position="attributes">
                <attribute name="string">Send Order</attribute>
                <attribute name="states">sale</attribute>
                <attribute name="context">{'send_by_email': True}</attribute>
            </xpath>

            <xpath expr="//header/button[@name='action_quotation_send'  and @states='draft']" position="replace">
                <button name="action_quotation_send" string="Send by Email" type="object" states="draft" class="btn-primary" invisible="1"/>
                <button name="action_quotation_send" string="Send Quotation" type="object" states="new" class="btn-primary" context="{'send_by_email': True}"/>
            </xpath>

            <xpath expr="//header/button[@name='action_confirm'][2]" position="attributes">
                <attribute name="attrs">{'invisible': ['|',('state', 'not in', ['draft']),('is_unprocessed_order','=',True)]}</attribute>
                <attribute name="string">Process</attribute>
                <attribute name="context">{'send_by_item_code': True, 'add_to_buy_merge_po':True}</attribute>
            </xpath>
            <xpath expr="//header/button[@name='action_cancel']" position="before">
                 <button name="set_to_unprocess" string="Set to Sale Order" type="object" class="btn-primary" attrs="{'invisible': ['|', '|',('state', 'not in', ['new','sent','review']),('advance_payment','=',True), ('order_line','!=',[])]}" />
                <button name="set_to_unprocess" string="Set to Sale Order" type="object" class="btn-primary" attrs="{'invisible': ['|', '|', ('state', 'not in', ['new','sent','review']),('advance_payment','=',True),('order_line','=',[])]}" confirm="Are you sure you want to proceed without payment?"/>
                <button name="confirm_purchase" string="Draft" type="object"
                        groups="sale_distributor.group_manager_confirm" context="{'send_by_item_code': False, 'confirm_purchase': True}"
                        attrs="{'invisible': ['|', '|', ('state', 'not in', ['draft']),('is_unprocessed_order','=',True), ('is_dropship_line','!=',True)]}"/>
                <button name="order_process" string="Dropship" context="{'dropship':True, 'send_by_item_code': True}" type="object" attrs="{'invisible': ['|',('state', 'not in', ['draft']),('is_process_line','=',True)]}"/>
                <button name="order_process" string="Add to Buy" context="{'add_to_buy':True, 'send_by_item_code': True}" type="object" attrs="{'invisible': ['|',('state', 'not in', ['draft']),('is_process_line','=',True)]}"/>
                <button name="to_review" string="To Review" context="{'review':True}" type="object" attrs="{'invisible': [('state', 'not in', ['new','sent'])]}"/>
                <button name="to_review" string="Reject" context="{'reject':True}" type="object" attrs="{'invisible': [('state', 'not in', ['review'])]}"/>
                <field name="is_process_line" invisible="1"/>
                <field name="advance_payment" invisible="1"/>
            </xpath>
            <xpath expr="//button[@name='action_cancel']" position="attributes">
                <attribute name="states">new,draft,sent,sale</attribute>
            </xpath>
            <xpath expr="//button[@name='action_quotation_send']" position="attributes">
                <attribute name="context">{'send_by_email': True}</attribute>
            </xpath>
            
            <xpath expr="//sheet/group/group[2]/div[2]" position="attributes">
                <attribute name="attrs">{'invisible': [('state', 'in', ['new','draft', 'sent'])]}</attribute>
            </xpath>
            <xpath expr="//sheet/group/group[2]/field[@name='date_order'][2]" position="attributes">
                <attribute name="attrs">{'required': [('state', 'in', ['sale', 'done'])], 'invisible': [('state', 'in', ['new','draft', 'sent'])]}</attribute>
            </xpath>
            <xpath expr="//div[@name='button_box']" position="after">
                <widget name="web_ribbon" text="Unprocessed" bg_color="bg-danger" class="custom_ribbon"
                        attrs="{'invisible': ['|', ('state', 'not in', ('sale', 'done')), ('split_line_ids', '!=', [])]}"/>
                <widget name="web_ribbon" text="Processed" bg_color="bg-success" class="custom_ribbon"
                        attrs="{'invisible': ['|', ('is_unprocessed_order', '=', True),('state', 'not in', ('sale','done'))]}"/>
                <widget name="web_ribbon" text="Partially Unprocessed" bg_color="bg-warning" class="partial-custom_ribbon"
                        attrs="{'invisible': ['|','|', ('state', 'not in', ('sale','done')), ('is_unprocessed_order', '=', False), ('split_line_ids', '=', [])]}"/>
             </xpath>
            <xpath expr="//field[@name='partner_shipping_id']" position="after">
                <field name="email" widget="email"/>
                <field name="phone" widget="phone"/>
                <field name="priority" widget="priority" attrs="{'readonly': [('state', 'not in', ['new','draft','sent'])]}"/>
            </xpath>
            <xpath expr="//field[@name='state']" position="replace">
                <field name="state" widget="statusbar" statusbar_visible="new,draft,sale"/>
            </xpath>
            <xpath expr="//button[@name='action_view_invoice']" position="before">
                <button type="object"
                    name="action_view_purchase"
                    class="oe_stat_button"
                    icon="fa-cart-arrow-down"
                    attrs="{'invisible': ['|',('po_count', '=', 0),('state', 'not in', ['sale','done'])]}" groups="base.group_user">
                    <field name="po_count" widget="statinfo" string="Purchase"/>
                </button>
            </xpath>
            <xpath expr="//field[@name='team_id']" position="after">
                <field name="is_dropship_line" invisible="1"/>
                <field name="is_add_to_buy_line" invisible="1"/>
            </xpath>
            <xpath expr="//field[@name='date_order']" position="after">
                <field name="po_lst_1" invisible="1"/>
                <field name="do_str_lst_1" invisible="1"/>
            </xpath>
            
            <xpath expr="//field[@name='note']" position="before">
                <!-- <group colspan="2" attrs="{'invisible': [('state', 'in', ('new','sent','review'))]}">
                    <div class="oe_inline o_td_label">
                        <label for="hide_button" invisible="1"/>
                    </div>
                    <field name="hide_button" nolabel="1"/>
                </group> -->
                <!-- <div class="o_row" style="float: left !important;" attrs="{'invisible': [('state', 'in', ('new','sent','review'))]}">
                    <button name="action_show_stock_move_line"
                        attrs="{'invisible': [('hide_button', '=', True)]}"
                        string="Show Shipment" type="object" class="oe_highlight"/>
                    <label for="process_single" string="Single Pack" invisible="1"/>
                    <field name="process_single" invisible="1"/>
                </div> -->
                <field name="hide_button" invisible="1"/>
                <group string="Confirm Dropship Shipment" attrs="{'invisible': ['|', ('state', 'in', ('new','sent','review')), ('shipment_package_ids', '=', [])]}" colspan="4">
                    <field name="shipment_package_ids" mode="kanban" readonly="0" nolabel="1">
                        <kanban class="kanban-box" create="0">
                            <field name="id"/>
                            <field name="color"/>
                            <field name="product_id"/>
                            <field name="result_package_id"/>
                            <field name="tracking_ref"/>
                            <field name="qty_done"/>
                            <field name="product_demand"/>
                            <field name="product_uom_qty"/>
                            <templates >
                                <t t-name="kanban-box">
                                    <t t-set="color" t-value="kanban_color(record.color.raw_value)"/>
                                    <div t-att-class="color + (record.color.raw_value == 1 ? ' oe_kanban_color_alert' : '') + ' oe_kanban_global_click'">
                                        <div class="o_kanban_image">
                                            <img t-att-src="kanban_image('product.template', 'image_1920', record.id.image_1920)" alt="Product" class="o_image_64_contain"/>
                                        </div>
                                        <div class="oe_kanban_details">
                                            <div t-if="record.product_id.raw_value">
                                                <strong>Name: </strong>
                                                <field name="product_id"/>
                                            </div>
                                            <div t-if="record.result_package_id.raw_value">
                                                <strong>Package: </strong>
                                                <field name="result_package_id"/>
                                            </div>
                                            <div t-if="record.tracking_ref.raw_value">
                                                <strong>Tracking Ref: </strong>
                                                <field name="tracking_ref"/>
                                            </div>
                                            <div t-if="record.qty_done.raw_value">
                                                <strong>Qty: </strong>
                                                <field name="qty_done"/> / 
                                                <t t-if="record.product_demand.raw_value">
                                                    <strong>Demand: </strong>
                                                    <field name="product_demand"/>
                                                </t>
                                            </div>
                                        </div>
                                    </div>
                                </t>
                            </templates>
                        </kanban>
                    </field>
                </group>
                <group string="Dropship Shipment Details" name="shipment_qty" colspan="4"
                        attrs="{'invisible': ['|', '|', ('state', 'in', ('new','sent','review')), ('is_dropship_line', '!=', True), ('stock_move_line_ids', '=', [])]}">
                    <field name="stock_move_line_ids" readonly="0" nolabel="1">
                        <tree editable="top" create="false" >
                            <field name="company_id" invisible="1"/>
                            <field name="package_id" invisible="1"/>
                            <field name="location_id" invisible="1"/>
                            <field name="product_id" optional="show"/>
                            <field name="location_dest_id" invisible="1"/>
                            <field name="result_package_id" readonly="1" string="Package" optional="show"/>
                            <field name="tracking_ref" string="Tracking Ref" optional="show"/>
                            <field name="batch_id" string="Batch" optional="show" domain="[('state','=', 'in_progress')]" options="{'no_create': True, 'no_create_edit':True}"/>
                            <field name="shipping_date" string="Ship Date" optional="show"/>
                            <field name="shipstation_carrier_id" optional="show"/>
                            <field name="carrier_id" string="Shipping Service" optional="show"/>
                            <field name="product_uom_qty" string='Demand' readonly="1" optional="show"/>
                            <field name="product_demand" invisible="1"/>
                            <field name="qty_done" attrs="{'readonly': [('result_package_id', '!=', False)]}" optional="show"/>
                        </tree>
                        <form>
                            <group>
                                <field name="company_id" invisible="1"/>
                                <field name="package_id" invisible="1"/>
                                <field name="location_id" invisible="1"/>
                                <field name="product_id" />
                                <field name="location_dest_id" invisible="1"/>
                                <field name="result_package_id" />
                                <field name="tracking_ref"/>
                                <field name="batch_id" string="Batch" domain="[('state','=', 'in_progress')]" options="{'no_create': True, 'no_create_edit':True}"/>
                                <field name="shipping_date" string="Ship Date"/>
                                <field name="shipstation_carrier_id"/>
                                <field name="carrier_id" string="Shipping Service"/>
                                <field name="product_uom_qty" string='Demand' readonly="1"/>
                                <field name="product_demand" invisible="1"/>
                                <field name="qty_done" attrs="{'readonly': [('result_package_id', '!=', False)]}"/>
                            </group>
                        </form>
                    </field>
                </group>

                <div class="o_row" style="float: left !important;">
                    <button name="prepare_incomming_shipment_process" string="Confirm Dropship Shipment" type="object" class="oe_highlight" attrs="{'invisible': ['|', '|', ('hide_button', '!=', True), ('is_dropship_line', '!=', True), ('stock_move_line_ids', '=', [])]}"/>
                </div>


                <group string="Confirm Buy Shipment" attrs="{'invisible': ['|', ('state', 'in', ('new','sent','review')), ('buy_shipment_package_ids', '=', [])]}" colspan="4">
                    <field name="buy_shipment_package_ids" mode="kanban" readonly="0" nolabel="1">
                        <kanban class="kanban-box" create="0">
                            <field name="id"/>
                            <field name="color"/>
                            <field name="product_id"/>
                            <field name="result_package_id"/>
                            <field name="tracking_ref"/>
                            <field name="qty_done"/>
                            <field name="product_demand"/>
                            <field name="product_uom_qty"/>
                            <templates >
                                <t t-name="kanban-box">
                                    <t t-set="color" t-value="kanban_color(record.color.raw_value)"/>
                                    <div t-att-class="color + (record.color.raw_value == 1 ? ' oe_kanban_color_alert' : '') + ' oe_kanban_global_click'">
                                        <div class="o_kanban_image">
                                            <img t-att-src="kanban_image('product.template', 'image_1920', record.id.image_1920)" alt="Product" class="o_image_64_contain"/>
                                        </div>
                                        <div class="oe_kanban_details">
                                            <div t-if="record.product_id.raw_value">
                                                <strong>Name: </strong>
                                                <field name="product_id"/>
                                            </div>
                                            <div t-if="record.result_package_id.raw_value">
                                                <strong>Package: </strong>
                                                <field name="result_package_id"/>
                                            </div>
                                            <div t-if="record.tracking_ref.raw_value">
                                                <strong>Tracking Ref: </strong>
                                                <field name="tracking_ref"/>
                                            </div>
                                            <div t-if="record.qty_done.raw_value">
                                                <strong>Qty: </strong>
                                                <field name="qty_done"/> / 
                                                <t t-if="record.product_demand.raw_value">
                                                    <strong>Demand: </strong>
                                                    <field name="product_demand"/>
                                                </t>
                                            </div>
                                        </div>
                                    </div>
                                </t>
                            </templates>
                        </kanban>
                    </field>
                </group>
                <group string="Buy Shipment Details" colspan="4"
                    attrs="{'invisible': ['|', '|', ('state', 'in', ('new','sent','review')), ('is_add_to_buy_line', '!=', True), ('picking_line_ids', '=', [])]}">
                    <group>
                    	<field name="ship_overide_tracking_ref" readonly="0"/>
                    </group>
                    <group>
	                    <field name="picking_line_ids" readonly="0" nolabel="1">
	                        <tree editable="top" create="false" >
	                            <field name="company_id" invisible="1"/>
	                            <field name="product_id"/>
	                            <field name="shipstation_carrier_id" optional="show"/>
	                            <field name="carrier_id" string="Shipping Service" optional="show"/>
	                            <field name="ship_package_id" optional="show" string="Ship Package"/>
	                            <field name="batch_id" string="Batch" optional="show" domain="[('state','=', 'in_progress')]" options="{'no_create': True, 'no_create_edit':True}"/>
	                            <field name="location_dest_id" invisible="1"/>
	                            <field name="result_package_id" readonly="1" string="Package" optional="show"/>
	                            <field name="tracking_ref" optional="show" readonly="1"/>
	                            <field name="shipping_date" string="Ship Date" optional="show"/>
	                            <field name="length" string="Size(L)" optional="hide"/>
	                            <field name="width" string="Size(W)" optional="hide"/>
	                            <field name="height" string="Size(H)" optional="hide"/>
	                            <field name="weight" string="Order Weight" optional="hide"/>
	                            <field name="shipping_weight" string="Weight for shipping(lbs)" optional="hide"/>
	                            <field name="shipping_weight_oz" string="Weight for shipping(ozs)" optional="hide"/>
	                            <field name="carrier_price" string="Shipping Cost" optional="show"/>
	                            <field name="product_uom_qty" string='Demand' readonly="1"/>
	                            <field name="product_demand" invisible="1"/>
	                            <field name="qty_done"/>
	                            <field name="delivery_type" invisible="1"/>
	                            <field name="state" invisible="1"/>
                                <field name="shipmentId" invisible="1"/>
                                <field name="attachment_id" invisible="1"/>
                                <field name="package_id" invisible="1"/>
                                <field name="location_id" invisible="1"/>
                                <field name="carrier_tracking_url" widget="url" invisible="1"/>
                                <button type="object" class="fa fa-truck oe_link" name="open_shipstation_website_url" string="Tracking" attrs="{'invisible':['|','|','|',('tracking_ref','=',False),('delivery_type','in', ['fixed', 'base_on_rule']),('delivery_type','=',False), ('result_package_id', '=', False)]}"/>
                                <button type="object" class="fa fa-arrow-right oe_link" name="cancel_shipment" string="Cancel" attrs="{'invisible':['|','|','|',('tracking_ref','=',False),('delivery_type','in', ['fixed', 'base_on_rule']),('delivery_type','=',False), ('result_package_id', '=', False)]}"/>
	                        </tree>
	                        <form>
	                            <group>
	                                <group>
	                                    <field name="company_id" invisible="1"/>
	                                    <field name="product_id"/>
	                                    <field name="shipstation_carrier_id" />
	                                    <field name="carrier_id"/>
	                                    <field name="ship_package_id" string="Ship Package"/>
	                                    <label for="length" string="Size (in)" attrs="{'readonly': [('state', 'in', ('done', 'cancel'))]}"/>
	                                    <div class="o_row">
	                                        <field name="length" attrs="{'readonly': [('state', 'in', ('done', 'cancel'))]}"/>
	                                        <label for="length" string="L"/>
	                                        <field name="width" attrs="{'readonly': [('state', 'in', ('done', 'cancel'))]}"/>
	                                        <label for="width" string="W"/>
	                                        <field name="height" attrs="{'readonly': [('state', 'in', ('done', 'cancel'))]}"/>
	                                        <label for="height" string="H"/>
	                                    </div>
	                                </group>
	                                <group>
	                                    <field name="tracking_ref" readonly="1"/>
	                                    <field name="shipping_date"/>
	                                    <field name="batch_id" string="Batch" domain="[('state','=', 'in_progress')]" options="{'no_create': True, 'no_create_edit':True}"/>
	                                    <field name="weight"/>
	                                     <div class="o_row" name="shipping_weight">
	                                        <field name="shipping_weight"/>
	                                        <span><field name="weight_uom_name" nolabel="1" /></span>
	                                        <field name="shipping_weight_oz" />
	                                        <span><field name="weight_uom_name_oz" nolabel="1" readonly="1" force_save="1"/></span>
	                                    </div>
	                                    <field name="carrier_price" string="Shipping Service"/>
	                                    <field name="delivery_type" invisible="1"/>
	                                    <field name="state" invisible="1"/>
                                        <field name="shipmentId" invisible="1"/>
                                        <field name="attachment_id" invisible="0"/>
                                        <field name="package_id" invisible="1"/>
                                        <field name="location_id" invisible="1"/>
	                                </group>
	                            </group>
	                        </form>
	                    </field>
                    </group>
                </group>

                <div class="o_row" style="float: left !important;">
                    <button name="prepare_outgoing_shipment_process" string="Confirm Buy Shipment" type="object" class="oe_highlight" attrs="{'invisible': ['|', '|', ('state', 'in', ('new','sent','review')), ('is_add_to_buy_line', '!=', True), ('picking_line_ids', '=', [])]}"/>
                </div>
            </xpath>
            <xpath expr="//field[@name='note']" position="before">
                <group string="Process Qty" name="process_qty" colspan="4" attrs="{'invisible': [('state', 'in', ('new','sent','review'))]}">
                    <field name="split_line_ids" readonly="1" nolabel="1" options="{'post_refresh': 'always'}" force_save="1" context="{'split_line_product': True}">
                        <tree>
                            <field name="sequence_ref"/>
                            <field name="product_id" />
                            <field name="name" invisible="1"/>
                            <field name="vendor_id" string="Vendor"/>
                            <field name="allocated_pol_id" invisible="1"/>
                            <field name="allocated_po_id" />
                            <field name="line_type" string="Type"/>
                            <field name="route_id" invisible="1"/>
                            <field name="vendor_price_unit" string="Vendor Price"/>
                            <field name="product_uom_qty"/>
                            <field name="item_note" string="Note"/>
                        </tree>
                        <form>
                            <group>
                                <field name="sequence_ref"/>
                                <field name="product_id" context="{'split_line_product': True}"/>
                                <field name="name" invisible="1"/>
                                <field name="vendor_id" string="Vendor"/>
                                <field name="line_type" string="Type"/>
                                <field name="route_id" invisible="1"/>
                                <field name="vendor_price_unit" string="Vendor Price"/>
                                <field name="product_uom_qty"/>
                                <field name="item_note" string="Note"/>
                            </group>
                        </form>
                    </field>
                </group>
            </xpath>
            <xpath expr="//field[@name='order_line']" position="attributes">
                <attribute name="context">{'is_next_prev': True, 'confirm_delete': True}</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/tree/field[@name='sequence']"
                   position="replace">
                <field name="sequence" widget="handle" attrs="{'column_invisible': [('parent.state', 'not in', ('new','sent','review'))]}"/>
                <field name="sequence_ref" attrs="{'column_invisible': [('parent.state', 'in', ('new','sent','review'))]}"/> 
                <field name="product_pack_id"
                    attrs="{
                        'readonly': [('product_updatable', '=', False)],
                        'required': [('display_type', '=', False)],
                    }"
                    options="{'no_open': True}"
                    force_save="1"
                    context="{
                        'partner_id': parent.partner_id,
                        'quantity': product_uom_qty,
                        'pricelist': parent.pricelist_id,
                        'uom':product_uom,
                        'company_id': parent.company_id,
                        'default_lst_price': price_unit,
                        'default_description_sale': name
                    }"
                    widget="product_configurator"
                    string="Product"
                />
            </xpath>
            <xpath expr="//field[@name='order_line']/tree/field[@name='product_uom_qty']"
                   position="replace">
                
                <field
                    name="product_uom_qty"
                    context="{
                        'partner_id': parent.partner_id,
                        'quantity': product_uom_qty,
                        'pricelist': parent.pricelist_id,
                        'uom': product_uom,
                        'company_id': parent.company_id
                    }"
                    invisible="1"/>
                <field name="pack_quantity" 
                       context="{
                                'partner_id': parent.partner_id,
                                'quantity': product_uom_qty,
                                'pricelist': parent.pricelist_id,
                                'uom': product_uom,
                                'company_id': parent.company_id
                                }" 
                       string="Quantity"/>
                <field name="unprocess_qty" string="Unprocess Qty" attrs="{'column_invisible': [('parent.state', '=', 'new')]}"/>
            </xpath>
            <xpath expr="//field[@name='order_line']/form/group/group/label[@for='qty_delivered']"
                   position="before">
                <field name="unprocess_qty" string="Unprocess Qty" attrs="{'invisible': [('parent.state', '=', 'new')]}"/>
            </xpath>
            <xpath expr="//field[@name='order_line']/tree/field[@name='product_id']"
                   position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/form//field[@name='product_id']"
                   position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//page[@name='other_information']/group/group[@name='sale_shipping']" position="replace">
            </xpath>
            <!-- <xpath expr="//field[@name='partner_invoice_id']" position="attributes">
                <attribute name="context">{'default_type':'invoice', 'show_address': True, 'bista_show_address': True}</attribute>
                <attribute name="domain">['|',('id', '=', partner_id), ('parent_id', '=', partner_id)]</attribute>
            </xpath>
            <xpath expr="//field[@name='partner_shipping_id']" position="attributes">
                <attribute name="context">{'default_type':'delivery', 'show_address': True, 'bista_show_address': True}</attribute>
                <attribute name="domain">['|',('id', '=', partner_id), ('parent_id', '=', partner_id)]</attribute>
            </xpath> -->
            <xpath expr="//field[@name='partner_id']" position="attributes">
                <attribute name="context">{'res_partner_search_mode': 'customer'}</attribute>
            </xpath>
            <xpath expr="//field[@name='partner_invoice_id']" position="replace">
                <label for="partner_invoice_id" string="Billing Address"/>
                <div class="o_row invoice_row">
                    <field  name="partner_invoice_id"
                    context="{'default_type':'invoice', 'show_address_only': True,'address_inline':True}"
                    domain="['|',('id', '=', partner_id), ('parent_id', '=', partner_id)]"
                    options='{"always_reload": True}'/>
                    <button class="fa fa-copy invoice_button" data-clipboard-target="[name='partner_invoice_id']" attrs="{'invisible': [('partner_invoice_id','=', False)]}" width="1"/>
                </div>
            </xpath>
            <xpath expr="//field[@name='partner_shipping_id']" position="replace">
                <label for="partner_shipping_id" string="Shipping Address"/>
                <div class="o_row shipping_row">
                    <field  name="partner_shipping_id"
                    context="{'default_type':'delivery', 'show_address_only': True, 'address_inline':True}"
                    domain="['|',('id', '=', partner_id), ('parent_id', '=', partner_id)]"
                    options='{"always_reload": True}'/>
                    <button class="fa fa-copy delivery_button" data-clipboard-target="[name='partner_shipping_id']" attrs="{'invisible': [('partner_shipping_id','=', False)]}" width="1"/>
                </div>
            </xpath>

            <xpath expr="//form/sheet/group/group/field[@name='payment_term_id']" position="after">
                <label for="commitment_date" string="Delivery Date"/>
                <div class="o_row">
                    <field name="commitment_date"/>
                    <span class="text-muted">Expected:
                        <field name="expected_date" widget="date"/>
                    </span>
                </div>
                <field name="picking_policy" required="True"/>
                <field name="is_unprocessed_order" string="Is Unprocessed Order" invisible="1"/>
                <field name="qty_all" invisible="1"/>
            </xpath>
            <xpath expr="//group[@name='note_group']/group/field[@name='note']" position="attributes">
                <attribute name="placeholder">Quotation Notes...</attribute>
            </xpath>

            <xpath expr="//form/div[@name='invoice_lines']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/form/group/group/label[@for='customer_lead']"
                   position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/form/group/group/div[@name='lead']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/form/label[@for='name']" position="attributes">
                <attribute name="string">Description</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/tree" position="attributes">
                <attribute name="editable"></attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/form//field[@name='product_id']" position="before">
                <div style="color: #DC6965" colspan="2" attrs="{'invisible': [('inbound_stock_lines', '=', [])]}">There are inbound orders from vendors for this product.</div>
                <!-- <field name="message_inbound_orders" decoration-danger="1" colspan="2" nolabel="1" attrs="{'invisible': [('message_inbound_orders', '=', '')]}"/> -->
            </xpath>
            <xpath expr="//field[@name='order_line']/form//field[@name='product_id']" position="after">
                <label for="product_pack_id" string="Product"/>
                <div>
                    <field 
                        name="product_pack_id" 
                        string="Product" 
                        options="{'no_open': True,'no_create': True}" 
                        context="{'tree_view_ref':'sale_distributor.product_pack_uom_tree_view'}" 
                        attrs="{'readonly': [('product_updatable', '=', False)],
                                'required': [('display_type', '=', False)]}"/>
                    <br/>
                    <div role="alert" class="alert-info"
                         attrs="{'invisible': [('is_pack_product', '!=', True)]}">
                        <span>This is a Pack Product.</span>
                    </div>
                </div>
                
                <label for="substitute_product_id"/>
                <div>
                	<field name="substitute_ids" invisible="1"/>
                    <field name="substitute_product_id" 
                    	options="{'no_open': True,'no_create': True}" 
                    	domain="[('sale_ok', '=', True), '|', ('company_id', '=', False), 
                    	('company_id', '=', company_id), 
                    	('id', 'in', substitute_ids)]" 
                    	attrs="{'readonly': [('product_pack_id', '=', False)]}"/>
                    <field name="substitute_product_template_id" invisible="1"/>
                    <field name="is_pack_product" invisible="1"/>
                </div>
            </xpath>
            <xpath expr="//field[@name='order_line']/form//field[@name='product_uom_qty']" position="replace">
                <field
                    context="{'partner_id':parent.partner_id, 'quantity':product_uom_qty, 'pricelist':parent.pricelist_id, 'uom':product_uom, 'uom_qty_change':True, 'company_id': parent.company_id}"
                    name="product_uom_qty" invisible="1"/>
                <field 
                    name="pack_quantity"
                    context="{'partner_id':parent.partner_id, 'quantity':product_uom_qty, 'pricelist':parent.pricelist_id, 'uom':product_uom, 'uom_qty_change':True, 'company_id': parent.company_id}"
                    string="Quantity"/>
            </xpath>
            <!-- Manufacturer Info -->
            <xpath expr="//field[@name='order_line']/tree/field[@name='route_id']"
                   position="attributes">
                   <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/form//field[@name='route_id']"
                   position="attributes">
                   <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/form//field[@name='analytic_tag_ids']"
                   position="attributes">
                   <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/tree/field[@name='analytic_tag_ids']"
                   position="attributes">
                   <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/form/group/group/label[@for='customer_lead']" position="before">
                
                <div name="manufacturer_info" colspan="2" style="border: 1px solid black;padding-left:10px" attrs="{'invisible': [('display_type', '!=', False)]}">
                    <group string="Manufacturer Info" colspan="2">
                    <field name="phone_number" attrs="{'invisible': [('display_type', '!=', False)]}"/>
                    <field name="dropship_selection" widget="radio" attrs="{'invisible': [('display_type', '!=', False)]}" options="{'horizontal': true}"/>
                    <field name="dropship_fee" attrs="{'invisible': [('display_type', '!=', False)]}"/>
                    <field name="order_min" attrs="{'invisible': [('display_type', '!=', False)]}"/>
                    <field name="below_min_fee" attrs="{'invisible': [('display_type', '!=', False)]}"/>
                    <field name="free_freight_level" attrs="{'invisible': [('display_type', '!=', False)]}"/>
                    <field name="ships_from" attrs="{'invisible': [('display_type', '!=', False)]}"/>
                    <field name="ship_cutoff_time" attrs="{'invisible': [('display_type', '!=', False)]}"/>
                    <field name="note" string="Notes" attrs="{'invisible': [('display_type', '!=', False)]}"/>
                    <field name="order_id" invisible="1"/>
                    </group>
            </div>
        
            </xpath>
            <xpath expr="//field[@name='order_line']/form/field[@name='name']" position="after">
                <div class="o_row" attrs="{'invisible': [('display_type', '!=', False)]}">
                    <div>
                        <label for="list_price"/>
                        <field name="list_price"
                               style="border: 1px solid black; border-collapse: collapse; text-align:center;height: 21px;"/>
                    </div>
                    <div>
                        <label for="lowest_cost"/>
                        <field name="lowest_cost"
                               style="border: 1px solid black; border-collapse: collapse; text-align:center;height: 21px;" readonly="1" force_save="1"/>
                    </div>
                    <div>
                        <label for="lowest_cost_source"/>
                        <field name="lowest_cost_source"
                        style="border: 1px solid black; border-collapse: collapse; text-align:center;height: 21px;" readonly="1" force_save="1"/>
                    </div>
                    <div style="margin-left:300px;">
                        <label for="total_stock"/>
                        <field name="total_stock"
                        style="border: 1px solid black; border-collapse: collapse; text-align:center;height: 21px;"
                        readonly="1" force_save="1"/>
                    </div>
                </div>
                
                <notebook attrs="{'invisible': [('display_type', '!=', False)]}">
                    <!-- ADI Tabs -->
                    <page name="adi_page_grey" string="ADI" class="grey_tab" attrs="{'invisible': [('adi_tab_color', '!=', 'grey')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="adi_part_number" string="Part Number"  readonly="1" force_save="1"/>
                                    <field name="adi_case_qty" string="Case Qty"  readonly="1" force_save="1"/>
                                    <field name="adi_mo_qty" string="MOQ"  readonly="1" force_save="1"/>
                                    <field name="adi_note" string="Description"/>
                                    <field name="adi_partner_id" invisible="1"/>
                                    <field name="adi_tab_color" invisible="1"/>
                                </group>
                                <field name="adi_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" /> 
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="adi_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="adi_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="adi_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="adi_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="adi_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="adi_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="adi_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="adi_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="adi_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'adi','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'adi','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>

                    </page>
                    <page name="adi_page_green" string="ADI" class="green_tab" attrs="{'invisible': [('adi_tab_color', '!=', 'green')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="adi_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="adi_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="adi_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="adi_note" string="Description"/>
                                    <field name="adi_partner_id" invisible="1"/>
                                    <field name="adi_tab_color" invisible="1"/>
                                </group>
                                <field name="adi_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" /> 
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="adi_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="adi_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="adi_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="adi_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="adi_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="adi_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="adi_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="adi_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="adi_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'adi','add_to_buy':True}" type="object" class="oe_highlight" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'adi','dropship':True}" type="object" class="oe_highlight" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>

                    </page>
                    <page name="adi_page_greenblue" string="ADI" class="green_blue_tab" attrs="{'invisible': [('adi_tab_color', '!=', 'green_blue')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="adi_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="adi_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="adi_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="adi_note" string="Description"/>
                                    <field name="adi_partner_id" invisible="1"/>
                                    <field name="adi_tab_color" invisible="1"/>
                                </group>
                                <field name="adi_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" /> 
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="adi_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="adi_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="adi_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="adi_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="adi_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="adi_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="adi_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="adi_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="adi_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'adi','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'adi','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>

                    </page>

                    <!-- NV Tabs -->
                    <page name="nv_page_grey" string="NV" class="grey_tab" attrs="{'invisible': [('nv_tab_color', '!=', 'grey')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="nv_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="nv_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="nv_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="nv_note" string="Description"/>
                                    <field name="nv_partner_id" invisible="1"/>
                                    <field name="nv_tab_color" invisible="1"/>
                                </group>
                                <field name="nv_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="nv_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="nv_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="nv_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="nv_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="nv_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="nv_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="nv_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="nv_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="nv_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'nv','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'nv','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>
                    <page name="nv_page_green" string="NV" class="green_tab" attrs="{'invisible': [('nv_tab_color', '!=', 'green')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="nv_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="nv_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="nv_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="nv_note" string="Description"/>
                                    <field name="nv_partner_id" invisible="1"/>
                                    <field name="nv_tab_color" invisible="1"/>
                                </group>
                                <field name="nv_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="nv_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="nv_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="nv_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="nv_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="nv_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="nv_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="nv_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="nv_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="nv_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'nv','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'nv','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>
                    <page name="nv_page_greenblue" string="NV" class="green_blue_tab" attrs="{'invisible': [('nv_tab_color', '!=', 'green_blue')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="nv_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="nv_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="nv_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="nv_note" string="Description"/>
                                    <field name="nv_partner_id" invisible="1"/>
                                    <field name="nv_tab_color" invisible="1"/>
                                </group>
                                <field name="nv_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="nv_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="nv_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="nv_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="nv_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="nv_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="nv_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="nv_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="nv_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="nv_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'nv','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'nv','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>


                    <!-- SL Tabs -->
                    <page name="sl_page_grey" string="SL" class="grey_tab" attrs="{'invisible': [('sl_tab_color', '!=', 'grey')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="sl_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="sl_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="sl_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="sl_note" string="Description"/>
                                    <field name="sl_partner_id" invisible="1"/>
                                    <field name="sl_tab_color" invisible="1"/>
                                </group>
                                <field name="sl_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="sl_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="sl_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="sl_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="sl_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="sl_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="sl_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="sl_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="sl_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="sl_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'sl','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'sl','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>
                    <page name="sl_page_green" string="SL" class="green_tab" attrs="{'invisible': [('sl_tab_color', '!=', 'green')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="sl_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="sl_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="sl_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="sl_note" string="Description"/>
                                    <field name="sl_partner_id" invisible="1"/>
                                    <field name="sl_tab_color" invisible="1"/>
                                </group>
                                <field name="sl_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="sl_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="sl_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="sl_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="sl_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="sl_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="sl_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="sl_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="sl_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="sl_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'sl','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'sl','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>
                    <page name="sl_page_greenblue" string="SL" class="green_blue_tab" attrs="{'invisible': [('sl_tab_color', '!=', 'green_blue')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="sl_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="sl_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="sl_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="sl_note" string="Description"/>
                                    <field name="sl_partner_id" invisible="1"/>
                                    <field name="sl_tab_color" invisible="1"/>
                                </group>
                                <field name="sl_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="sl_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="sl_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="sl_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="sl_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="sl_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="sl_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="sl_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="sl_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="sl_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'sl','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'sl','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>


                    <!-- SS Tabs -->
                    <page name="ss_page_grey" string="SS" class="grey_tab" attrs="{'invisible': [('ss_tab_color', '!=', 'grey')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="ss_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="ss_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="ss_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="ss_note" string="Description"/>
                                    <field name="ss_partner_id" invisible="1"/>
                                    <field name="ss_tab_color" invisible="1"/>
                                </group>
                                <field name="ss_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="ss_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="ss_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="ss_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="ss_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="ss_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="ss_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="ss_total_stock" string="Total Stock"/>
                                <field name="ss_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="ss_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'ss','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'ss','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>
                    <page name="ss_pagee_green" string="SS" class="green_tab" attrs="{'invisible': [('ss_tab_color', '!=', 'green')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="ss_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="ss_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="ss_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="ss_note" string="Description"/>
                                    <field name="ss_partner_id" invisible="1"/>
                                    <field name="ss_tab_color" invisible="1"/>
                                </group>
                                <field name="ss_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="ss_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="ss_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="ss_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="ss_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="ss_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="ss_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="ss_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="ss_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="ss_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'ss','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'ss','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>
                    <page name="ss_page_greenblue" string="SS" class="green_blue_tab" attrs="{'invisible': [('ss_tab_color', '!=', 'green_blue')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="ss_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="ss_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="ss_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="ss_note" string="Description"/>
                                    <field name="ss_partner_id" invisible="1"/>
                                    <field name="ss_tab_color" invisible="1"/>
                                </group>
                                <field name="ss_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="ss_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="ss_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="ss_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="ss_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="ss_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="ss_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="ss_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="ss_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="ss_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'ss','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'ss','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>                    

                    <!-- JNE Tabs -->
                    <page name="jne_page_grey" string="JNE" class="grey_tab" attrs="{'invisible': [('jne_tab_color', '!=', 'grey')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="jne_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="jne_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="jne_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="jne_note" string="Description"/>
                                    <field name="jne_partner_id" invisible="1"/>
                                    <field name="jne_tab_color" invisible="1"/>
                                </group>
                                <field name="jne_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="jne_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="jne_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="jne_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="jne_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="jne_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="jne_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="jne_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="jne_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="jne_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'jne','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'jne','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>
                    <page name="jne_pagee_green" string="JNE" class="green_tab" attrs="{'invisible': [('jne_tab_color', '!=', 'green')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="jne_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="jne_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="jne_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="jne_note" string="Description"/>
                                    <field name="jne_partner_id" invisible="1"/>
                                    <field name="jne_tab_color" invisible="1"/>
                                </group>
                                <field name="jne_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="jne_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="jne_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="jne_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="jne_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="jne_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="jne_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="jne_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="jne_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="jne_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'jne','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'jne','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>
                    <page name="jne_page_greenblue" string="JNE" class="green_blue_tab" attrs="{'invisible': [('jne_tab_color', '!=', 'green_blue')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="jne_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="jne_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="jne_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="jne_note" string="Description"/>
                                    <field name="jne_partner_id" invisible="1"/>
                                    <field name="jne_tab_color" invisible="1"/>
                                </group>
                                <field name="jne_vendor_stock_ids" readonly="1" force_save="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="jne_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="jne_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="jne_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="jne_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="jne_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="jne_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="jne_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="jne_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="jne_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'jne','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'jne','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>

                    <!-- BNR Tabs -->
                    <page name="bnr_page_grey" string="BNR" class="grey_tab" attrs="{'invisible': [('bnr_tab_color', '!=', 'grey')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="bnr_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="bnr_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="bnr_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="bnr_note" string="Description"/>
                                    <field name="bnr_partner_id" invisible="1"/>
                                    <field name="bnr_tab_color" invisible="1"/>
                                </group>
                                <field name="bnr_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="bnr_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="bnr_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="bnr_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="bnr_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="bnr_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="bnr_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="bnr_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="bnr_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="bnr_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'bnr','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'bnr','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>
                    <page name="bnr_pagee_green" string="BNR" class="green_tab" attrs="{'invisible': [('bnr_tab_color', '!=', 'green')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="bnr_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="bnr_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="bnr_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="bnr_note" string="Description"/>
                                    <field name="bnr_partner_id" invisible="1" readonly="1" force_save="1"/>
                                    <field name="bnr_tab_color" invisible="1" readonly="1" force_save="1"/>
                                </group>
                                <field name="bnr_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="bnr_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="bnr_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="bnr_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="bnr_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="bnr_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="bnr_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="bnr_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="bnr_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="bnr_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'bnr','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'bnr','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invi': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>
                    <page name="bnr_page_greenblue" string="BNR" class="green_blue_tab" attrs="{'invisible': [('bnr_tab_color', '!=', 'green_blue')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="bnr_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="bnr_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="bnr_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="bnr_note" string="Description"/>
                                    <field name="bnr_partner_id" invisible="1"/>
                                    <field name="bnr_tab_color" invisible="1"/>
                                </group>
                                <field name="bnr_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="bnr_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="bnr_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="bnr_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="bnr_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="bnr_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="bnr_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="bnr_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="bnr_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="bnr_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'bnr','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'bnr','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>

                    <!-- WR Tabs -->
                    <page name="wr_page_grey" string="WR" class="grey_tab" attrs="{'invisible': [('wr_tab_color', '!=', 'grey')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="wr_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="wr_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="wr_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="wr_note" string="Description"/>
                                    <field name="wr_partner_id" invisible="1"/>
                                    <field name="wr_tab_color" invisible="1"/>
                                </group>
                                <field name="wr_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="wr_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="wr_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="wr_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="wr_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="wr_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="wr_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="wr_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="wr_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="wr_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'wr','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'wr','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                            
                        </group>
                    </page>
                    <page name="wr_pagee_green" string="WR" class="green_tab" attrs="{'invisible': [('wr_tab_color', '!=', 'green')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="wr_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="wr_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="wr_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="wr_note" string="Description"/>
                                    <field name="wr_partner_id" invisible="1"/>
                                    <field name="wr_tab_color" invisible="1"/>
                                </group>
                                <field name="wr_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="wr_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="wr_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="wr_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="wr_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="wr_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="wr_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="wr_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="wr_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="wr_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'wr','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'wr','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                            
                        </group>
                    </page>
                    <page name="wr_page_greenblue" string="WR" class="green_blue_tab" attrs="{'invisible': [('wr_tab_color', '!=', 'green_blue')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="wr_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="wr_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="wr_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="wr_note" string="Description"/>
                                    <field name="wr_partner_id" invisible="1"/>
                                    <field name="wr_tab_color" invisible="1"/>
                                </group>
                                <field name="wr_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="wr_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="wr_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="wr_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="wr_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="wr_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="wr_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="wr_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="wr_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="wr_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'wr','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'wr','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                            
                        </group>
                    </page>


                    <!-- DFM Tab -->
                    <page name="dfm_page_grey" string="DFM" class="grey_tab" attrs="{'invisible': [('dfm_tab_color', '!=', 'grey')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="dfm_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="dfm_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="dfm_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="dfm_note" string="Description"/>
                                    <field name="dfm_partner_id" invisible="1" readonly="1" force_save="1"/>
                                    <field name="dfm_tab_color" invisible="1"/>
                                </group>
                                <field name="dfm_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="dfm_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="dfm_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="dfm_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="dfm_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="dfm_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="dfm_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="dfm_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="dfm_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="dfm_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'dfm','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'dfm','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                            
                        </group>
                    </page>
                    <page name="dfm_pagee_green" string="DFM" class="green_tab" attrs="{'invisible': [('dfm_tab_color', '!=', 'green')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="dfm_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="dfm_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="dfm_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="dfm_note" string="Description"/>
                                    <field name="dfm_partner_id" invisible="1"/>
                                    <field name="dfm_tab_color" invisible="1"/>
                                </group>
                                <field name="dfm_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="dfm_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="dfm_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="dfm_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="dfm_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="dfm_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="dfm_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="dfm_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="dfm_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="dfm_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'dfm','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'dfm','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>
                    <page name="dfm_page_greenblue" string="DFM" class="green_blue_tab" attrs="{'invisible': [('dfm_tab_color', '!=', 'green_blue')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="dfm_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="dfm_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="dfm_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="dfm_note" string="Description"/>
                                    <field name="dfm_partner_id" invisible="1"/>
                                    <field name="dfm_tab_color" invisible="1"/>
                                </group>
                                <field name="dfm_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="dfm_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="dfm_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="dfm_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="dfm_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="dfm_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="dfm_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="dfm_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="dfm_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="dfm_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                    <button name="split_line" context="{'vendor':'dfm','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                    <button name="split_line" context="{'vendor':'dfm','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                </div>
                            </group>
                        </group>
                    </page>


                    <!-- JMAC Tab -->
                    <page name="jmac_page_grey" class="grey_tab" string="JMAC" attrs="{'invisible': [('jmac_tab_color', '!=', 'grey')]}">
                        <div class="o_row">
                            <div>
                                <label for="jmac_allocated"/>
                                <field name="jmac_allocated" readonly="1" force_save="1"
                                       style="border: 1px solid black; border-collapse: collapse; text-align:center;"/>
                                <field name="jmac_tab_color" invisible="1"/>

                            </div>
                            <div>
                                <label for="jmac_available"/>
                                <field name="jmac_available" readonly="1" force_save="1"
                                       style="border: 1px solid black; border-collapse: collapse; text-align:center;"/>
                            </div>
                            <div>
                                <label for="jmac_onhand"/>
                                <field name="jmac_onhand" readonly="1" force_save="1"
                                       style="border: 1px solid black; border-collapse: collapse; text-align:center;"/>
                            </div>
                            <div></div>
                            <div></div>
                        </div>

                        <notebook>
                            <page name="inventory_log" string="Inventory Log">
                                <field name="jmac_stock_ids" readonly="1" force_save="1" nolabel="1" class="oe_inline">
                                    <tree>
                                        <field name="location_id"/>
                                        <field name="quantity"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <field name="location_id"/>
                                            <field name="quantity"/>
                                        </group>
                                    </form>
                                </field>
                                <div class="o_row">
                                    <button name="split_line" context="{'ship_from_here':True}" type="object" class="oe_highlight oe_edit_only" string="Ship from Here" attrs="{'invisible': ['|', ('parent.state', 'not in', ('draft','sale')), ('jmac_stock_ids', '=', [])]}"/>
                                    <button name="split_line" context="{'allocate':True}" type="object" class="oe_highlight oe_edit_only" string="Allocate" attrs="{'invisible': ['|', ('parent.state', 'not in', ('draft','sale')), ('jmac_stock_ids', '=', [])]}"/>
                                </div>
                            </page>
                            <page name="inbound_stock" string="Inbound Stock">
                                <field name="inbound_stock_lines" nolabel="1">
                                    <tree editable="bottom">
                                        <field name="purchase_id" readonly="1" force_save="1"/>
                                        <field name="state" readonly="1" force_save="1"/>
                                        <field name="po_sale_line_id" readonly="1" force_save="1"/>
                                        <field name="po_sale_id" invisible="1"/>
                                        <field name="qty_ordered" readonly="1" force_save="1"/>
                                        <field name="qty_committed" readonly="1" force_save="1" invisible="1"/>
                                        <field name="qty_received" readonly="1" force_save="1"/>
                                        <field name="date_submitted" readonly="1" force_save="1"/>
                                        <field name="select_pol"/>
                                        <field name="allocate_qty" attrs="{'readonly':[('select_pol','=', False)]}" force_save="1"/>
                                        <field name="po_line_id" invisible="1"/>
                                        <field name="picking_id" invisible="1"/>
                                        <field name="move_id" invisible="1"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <field name="purchase_id"/>
                                            <field name="state" />
                                            <field name="po_sale_id" readonly="1" force_save="1"/>
                                            <field name="qty_ordered"/>
                                            <field name="qty_committed" invisible="1"/>
                                            <field name="qty_received"/>
                                            <field name="date_submitted"/>
                                            <field name="select_pol"/>
                                            <field name="allocate_qty" attrs="{'readonly':[('select_pol','=', False)]}"/>
                                            <field name="po_sale_line_id" invisible="1"/>
                                            <field name="po_line_id" invisible="1"/>
                                            <field name="picking_id" invisible="1"/>
                                            <field name="move_id" invisible="1"/>
                                        </group>
                                    </form>
                                </field>
                                <button name="split_line" context="{'allocate_po':True}" type="object" class="oe_highlight oe_edit_only" string="Allocate" attrs="{'invisible': ['|', ('parent.state', 'not in', ('draft','sale')), ('inbound_stock_lines', '=', [])]}"/>
                            </page>
                        </notebook>
                    </page>
                    <page name="jmac_page_greenblue" class="green_blue_tab" string="JMAC" attrs="{'invisible': [('jmac_tab_color', '!=', 'green_blue')]}">
                            <div class="o_row">
                                <div>
                                    <label for="jmac_allocated"/>
                                    <field name="jmac_allocated" readonly="1" force_save="1"
                                           style="border: 1px solid black; border-collapse: collapse; text-align:center;"/>
                                    <field name="jmac_tab_color" invisible="1"/>

                                </div>
                                <div>
                                    <label for="jmac_available"/>
                                    <field name="jmac_available" readonly="1" force_save="1"
                                           style="border: 1px solid black; border-collapse: collapse; text-align:center;"/>
                                </div>
                                <div>
                                    <label for="jmac_onhand"/>
                                    <field name="jmac_onhand" readonly="1" force_save="1"
                                           style="border: 1px solid black; border-collapse: collapse; text-align:center;"/>
                                </div>
                                <div></div>
                                <div></div>
                            </div>
                        <notebook>
                            <page name="inventory_log" string="Inventory Log">
                                <field name="jmac_stock_ids" readonly="1" force_save="1" nolabel="1" class="oe_inline">
                                    <tree>
                                        <field name="location_id"/>
                                        <field name="quantity"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <field name="location_id"/>
                                            <field name="quantity"/>
                                        </group>
                                    </form>
                                </field>
                                <div class="o_row">
                                    <button name="split_line" context="{'ship_from_here':True}" type="object" class="oe_highlight oe_edit_only" string="Ship from Here" attrs="{'invisible': ['|', ('parent.state', 'not in', ('draft','sale')), ('jmac_stock_ids', '=', [])]}"/>
                                    <button name="split_line" context="{'allocate':True}" type="object" class="oe_highlight oe_edit_only" string="Allocate" attrs="{'invisible': ['|', ('parent.state', 'not in', ('draft','sale')), ('jmac_stock_ids', '=', [])]}"/>
                                </div>
                            </page>
                            <page name="inbound_stock" string="Inbound Stock">
                                <field name="inbound_stock_lines" nolabel="1">
                                    <tree editable="bottom" create="0" delete="0">
                                        <field name="purchase_id" readonly="1" force_save="1"/>
                                        <field name="state" readonly="1" force_save="1"/>
                                        <field name="po_sale_line_id" readonly="1" force_save="1"/>
                                        <field name="po_sale_id" invisible="1"/>
                                        <field name="qty_ordered" readonly="1" force_save="1"/>
                                        <field name="qty_committed" readonly="1" force_save="1" invisible="1"/>
                                        <field name="qty_received" readonly="1" force_save="1"/>
                                        <field name="date_submitted" readonly="1" force_save="1"/>
                                        <field name="select_pol" />
                                        <field name="allocate_qty" attrs="{'readonly':[('select_pol','=', False)]}"/>
                                        <field name="po_line_id" invisible="1"/>
                                        <field name="picking_id" invisible="1"/>
                                        <field name="move_id" invisible="1"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <field name="purchase_id"/>
                                            <field name="state" />
                                            <field name="po_sale_id" readonly="1" force_save="1"/>
                                            <field name="qty_ordered"/>
                                            <field name="qty_committed" invisible="1"/>
                                            <field name="qty_received"/>
                                            <field name="date_submitted"/>
                                            <field name="select_pol"/>
                                            <field name="allocate_qty" attrs="{'readonly':[('select_pol','=', False)]}"/>
                                            <field name="po_sale_line_id" invisible="1"/>
                                            <field name="po_line_id" invisible="1"/>
                                            <field name="picking_id" invisible="1"/>
                                            <field name="move_id" invisible="1"/>
                                        </group>
                                    </form>
                                </field>
                                <button name="split_line" context="{'allocate_po':True}" type="object" class="oe_highlight oe_edit_only" string="Allocate" attrs="{'invisible': ['|', ('parent.state', 'not in', ('draft','sale')), ('inbound_stock_lines', '=', [])]}"/>
                            </page>
                        </notebook>
                    </page>


                    <!-- BKS Tab -->
                    <page name="bks_page_grey" string="BKS" class="grey_tab" attrs="{'invisible': [('bks_tab_color', '!=', 'grey')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="bks_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="bks_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="bks_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="bks_note" string="Description"/>
                                    <field name="bks_partner_id" invisible="1"/>
                                    <field name="bks_tab_color" invisible="1"/>
                                </group>
                                <field name="bks_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="bks_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="bks_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="bks_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="bks_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="bks_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="bks_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="bks_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="bks_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="bks_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                <button name="split_line" context="{'vendor':'bks','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                <button name="split_line" context="{'vendor':'bks','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                            </div>
                            </group>
                        </group>
                    </page>
                    <page name="bks_pagee_green" string="BKS" class="green_tab" attrs="{'invisible': [('bks_tab_color', '!=', 'green')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="bks_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="bks_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="bks_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="bks_note" string="Description"/>
                                    <field name="bks_partner_id" invisible="1"/>
                                    <field name="bks_tab_color" invisible="1"/>
                                </group>
                                <field name="bks_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="bks_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="bks_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="bks_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="bks_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="bks_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="bks_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="bks_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="bks_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="bks_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                <button name="split_line" context="{'vendor':'bks','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                <button name="split_line" context="{'vendor':'bks','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                            </div>
                            </group>
                        </group>
                    </page>
                    <page name="bks_page_greenblue" string="BKS" class="green_blue_tab" attrs="{'invisible': [('bks_tab_color', '!=', 'green_blue')]}">
                        <group>
                            <group>
                                <group colspan="2">
                                    <field name="bks_part_number" string="Part Number" readonly="1" force_save="1"/>
                                    <field name="bks_case_qty" string="Case Qty" readonly="1" force_save="1"/>
                                    <field name="bks_mo_qty" string="MOQ" readonly="1" force_save="1"/>
                                    <field name="bks_note" string="Description"/>
                                    <field name="bks_partner_id" invisible="1"/>
                                    <field name="bks_tab_color" invisible="1"/>
                                </group>
                                <field name="bks_vendor_stock_ids" readonly="1" force_save="1" nolabel="1">
                                    <tree decoration-danger="case_qty&lt;6" decoration-primary="case_qty&gt;5 and case_qty&lt;11" decoration-success="case_qty&gt;10" >
                                        <field name="abbreviation" />
                                        <field name="location_id" required="1"/>
                                        <field name="case_qty" required="1"/>
                                        <field name="hub" />
                                        <field name="state" />
                                        <field name="zip" />
                                        <field name="phone" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="bks_actual_cost" string="Final Price" readonly="1" force_save="1"/>
                                <field name="bks_standard_cost" string="Standard Cost" readonly="1" force_save="1" invisible="1"/>
                                <field name="bks_price_match" string="Price Match" readonly="0" force_save="1"/>
                                <field name="bks_coded_price_flag" string="Coded Price Flag" readonly="0" force_save="1"/>
                                <field name="bks_sale_exp_date" string="Sale Exp Date" readonly="1" force_save="1"/>
                                <field name="bks_sale_cost" string="Sale Cost" readonly="1" force_save="1"/>
                                <field name="bks_total_stock" string="Total Stock" readonly="1" force_save="1"/>
                                <field name="bks_cost_last_updated" string="Cost Last Updated" readonly="1" force_save="1"/>
                                <field name="bks_stock_last_updated" string="Stock Last Updated" readonly="1" force_save="1"/>
                                <div class="o_row">
                                <button name="split_line" context="{'vendor':'bks','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                                <button name="split_line" context="{'vendor':'bks','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                            </div>
                            </group>
                        </group>
                    </page>


                    <!-- OTV Tab -->
                    <page name="otv_page" class="grey_tab" string="OTV">
                        <group>
                            <group>
                                <field name="partner_id"/>
                                <field name="otv_cost"/>
                            </group>
                        </group>
                        <div class="o_row">
                            <button name="split_line" context="{'vendor':'otv','add_to_buy':True}" type="object" class="oe_highlight oe_edit_only" string="Add to Buy" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                            <button name="split_line" context="{'vendor':'otv','dropship':True}" type="object" class="oe_highlight oe_edit_only" string="Dropship" attrs="{'invisible': [('parent.state', 'not in', ('draft','sale'))]}"/>
                        </div>
                    </page>
                </notebook>
                <separator string="Process Qty" attrs="{'invisible': ['|',('display_type', '!=', False),('parent.state', 'in', ('new','sent','review'))]}"/>
                <div class="o_row" attrs="{'invisible': [('parent.state', 'in', ('new','sent','review'))]}">
                    <field name="sale_split_lines" attrs="{'invisible': [('display_type', '!=', False)]}">
                        <tree create="0" edit="0" delete="0">
                            <field name="sequence_ref" invisible="1"/>
                            <field name="name" invisible="1"/>
                            <field name="vendor_id" string="Vendor"/>
                            <field name="allocated_pol_id" invisible="1"/>
                            <field name="allocated_po_id" />
                            <field name="line_type" string="Type"/>
                            <field name="route_id" invisible="1"/>
                            <field name="vendor_price_unit" string="Vendor Price"/>
                            <field name="product_uom_qty"/>
                            <field name="item_note" string="Note"/>
                            <button name="remove_sale_split_line" type="object" class="fa fa-trash-o" context="{'purchase_split_line':True}" confirm="Are you sure you want to remove this line?"/>
                        </tree>
                        <form create="0" edit="0">
                            <group>
                                <field name="sequence_ref" invisible="1"/>
                                <field name="name" invisible="1"/>
                                <field name="vendor_id" string="Vendor"/>
                                <field name="line_type" string="Type"/>
                                <field name="route_id" invisible="1"/>
                                <field name="vendor_price_unit" string="Vendor Price"/>
                                <field name="product_uom_qty"/>
                                <field name="item_note" string="Note"/>
                            </group>
                        </form>
                    </field>
                </div>
            </xpath>
        </field>
    </record>

    <record id="view_order_tree_inherit_jmac" model="ir.ui.view">
        <field name="name">sale.order.tree.inherit.jmac</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='partner_id']" position="after">
                <field name="note" string="Quotation Note"/>
            </xpath>
            <xpath expr="//field[@name='invoice_status']" position="after">
                <field name="po_lst_1" string="PO #"/>
                <field name="do_str_lst_1" string="DO #"/>
            </xpath>
            <!-- <xpath expr="//field[@name='tag_ids']" position="after">
                <button name="button" string="register" type="object" class="oe_highlight"/>
            </xpath> -->
        </field>
    </record>

    <record id="view_quotation_tree_with_onboarding_inht" model="ir.ui.view">
            <field name="name">sale.order.tree.inht</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_quotation_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='partner_id']" position="after">
                    <field name="note" string="Quotation Note"/>
                </xpath>
                <xpath expr="//field[@name='tag_ids']" position="after">
                    <field name="description_note" widget="html" attrs="{'invisible': [('note', '=', '')]}"/>
                </xpath>
                <xpath expr="//field[@name='note']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            </field>
        </record>

    <record id="sale.sale_order_view_search_inherit_quotation" model="ir.ui.view">
        <field name="name">sale.order.search.inherit.quotation</field>
        <field name="model">sale.order</field>
        <field name="mode">primary</field>
        <field name="inherit_id" ref="sale.view_sales_order_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//filter[@name='my_sale_orders_filter']" position="replace">
                <field name="campaign_id"/>
                <field name="is_dropship_line"/>
                <separator/>
                <!-- <filter string="My Quotations" name="my_quotation" domain="[('user_id', '=', uid)]"/>
                <separator/>
                <filter string="Sales Order" name="draft" domain="[('state','in',('draft'))]"/>
                <filter string="Processed Orders" name="sales" domain="[('state','in',('sale','done'))]"/>
                <separator/> -->
                <filter string="Create Date" name="filter_create_date" date="create_date"/>
            </xpath>
        </field>
    </record>

	<record id="view_sales_order_filter" model="ir.ui.view">
	    <field name="name">sale.order.list.select</field>
	    <field name="model">sale.order</field>
	    <field name="inherit_id" ref="sale.view_sales_order_filter"/>
	    <field name="arch" type="xml">
	    	<xpath expr="//field[@name='team_id']" position="after">
	    		<field name="po_lst_1" string="PO #"/>
	    		<field name="do_str_lst_1" string="DO #"/>
	    	</xpath>
	    </field>
	</record>
        
        
    <record id="view_order_form_with_carrier_inht" model="ir.ui.view">
        <field name="name">delivery.sale.order.form.view.with_carrier_inht</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="delivery.view_order_form_with_carrier"/>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='action_open_delivery_wizard'][1]" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//button[@name='action_open_delivery_wizard'][2]" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//button[@name='action_open_delivery_wizard'][3]" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
        </field>
    </record>

    <record id="print_delivery_lable_action_form" model="ir.actions.server">
        <field name="name">Print Lable</field>
        <field name="type">ir.actions.server</field>
        <field name="state">code</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="binding_model_id" ref="sale.model_sale_order"/>
        <field name="code">
            records.print_delivery_shipping_lable()
        </field>
    </record>
    
    <record id="view_order_line_tree_custom" model="ir.ui.view">
        <field name="name">sale.order.line.tree</field>
        <field name="model">sale.order.line</field>
        <field name="arch" type="xml">
            <tree string="Sales Order Lines" create="false">
                <field name="sequence_ref"/>
                <field name="order_id"/>
                <field name="name"/>
                <field name="product_uom_qty" string="Qty"/>
                <field name="unprocess_qty"/>
                <field name="qty_delivered"/>
                <field name="qty_invoiced"/>
                <field name="product_uom" string="Unit of Measure" groups="uom.group_uom"/>
                <field name="price_subtotal" sum="Total" widget="monetary"/>
            </tree>
        </field>
    </record>

        <record id="view_substitute_product_tree_view" model="ir.ui.view">
            <field name="name">substitute.product</field>
            <field name="model">substitute.product</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Substitute Product">
                    <field name="name" />
                </tree>
            </field>
        </record>

        <record id="view_form_substitute_product" model="ir.ui.view">
            <field name="name">Substitute Product</field>
            <field name="model">substitute.product</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Substitute Product">
                    <sheet>
                        <group>
                         	<field name="name"></field>
                        </group>
                        <group string="Substitute Product List">
                            <field name="substitute_ids" 
                            	nolabel="1"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="action_substitute_product" model="ir.actions.act_window">
            <field name="name">Substitute Product</field>
            <field name="res_model">substitute.product</field>
            <field name="view_id" ref="view_substitute_product_tree_view" />
        </record>

        <menuitem id="menu_substitute_product" name="Substitute Product"
            parent="sale.menu_sales_config" sequence="60"
            action="action_substitute_product" />
            
</odoo>
